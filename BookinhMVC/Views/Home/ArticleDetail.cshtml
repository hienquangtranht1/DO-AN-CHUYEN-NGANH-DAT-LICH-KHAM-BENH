@model BookinhMVC.Models.Article
@{
    ViewData["Title"] = Model.Title;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>

<style>
    /* ------------------------------------------- */
    /* STYLE CHO TRANG CHI TIẾT BÀI VIẾT */
    /* ------------------------------------------- */
    :root {
        --primary-color: #0d6efd;
        --success-color: #198754;
        --text-color: #495057;
    }

    .article-header {
        background: linear-gradient(135deg, var(--primary-color) 0%, #0056b3 100%);
        color: white;
        padding: 80px 0;
        margin-bottom: 50px;
        border-radius: 0 0 20px 20px;
    }

    /* Đổi font về sans-serif để đảm bảo tính phổ biến và hỗ trợ tốt hơn cho tiếng Việt trên mọi thiết bị */
    .article-content {
        font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;
        color: var(--text-color);
    }

        .article-content h1, .article-content h2, .article-content h3, .article-content h4 {
            color: #0d6efd;
            margin-top: 30px;
            margin-bottom: 15px;
            /* Thiết kế border-left từ Admin View */
            border-left: 5px solid var(--success-color);
            padding-left: 15px;
            font-weight: 700;
        }

        .article-content p, .article-content ul, .article-content ol {
            line-height: 1.8;
            font-size: 1.05rem;
            color: var(--text-color);
            margin-bottom: 20px;
        }

        .article-content ul, .article-content ol {
            padding-left: 30px;
        }

        .article-content ul {
            list-style-type: disc;
        }

        .article-content ol {
            list-style-type: decimal;
        }

        .article-content strong {
            color: #333;
            font-weight: bold;
        }

        .article-content img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 15px 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .article-content table {
            width: 100% !important;
            margin: 20px 0;
            border-collapse: collapse;
        }

        .article-content th, .article-content td {
            border: 1px solid #dee2e6;
            padding: 12px;
            text-align: left;
        }

        .article-content th {
            background-color: #f8f9fa;
            font-weight: 600;
        }

        .article-content blockquote {
            border-left: 5px solid var(--primary-color);
            padding: 15px 25px;
            margin: 25px 0;
            font-style: italic;
            background-color: #f4f6f9;
        }

        .article-content a {
            color: var(--primary-color);
            text-decoration: underline;
        }

    .featured-image {
        max-height: 450px;
        width: 100%;
        object-fit: cover;
    }

    .breadcrumb-item a {
        color: white !important;
        text-decoration: none;
    }

        .breadcrumb-item a:hover {
            text-decoration: underline;
        }
</style>

<div class="article-header">
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-2 small" style="--bs-breadcrumb-divider: '>';">
                <li class="breadcrumb-item"><a asp-action="Index" asp-controller="Home" class="text-white">Trang chủ</a></li>
                <li class="breadcrumb-item"><a asp-action="HospitalBlog" asp-controller="Home" class="text-white">Blog</a></li>
                <li class="breadcrumb-item active text-white" aria-current="page">@Model.Category.CategoryName</li>
            </ol>
        </nav>

        <h1 class="display-5 fw-bold mb-3">@Model.Title</h1>

        <div class="d-flex flex-wrap gap-4 align-items-center small" style="opacity: 0.9;">
            <span><i class="fas fa-user-md me-1"></i> Tác giả: <strong>@Model.Author.TenDangNhap</strong></span>
            <span><i class="fas fa-calendar-alt me-1"></i> Ngày đăng: @Model.PublishDate.ToString("dd/MM/yyyy")</span>
            <span><i class="fas fa-eye me-1"></i> Lượt xem: @Model.ViewsCount</span>
            <span class="badge bg-light text-primary fw-bold">@Model.Category.CategoryName</span>
        </div>
    </div>
</div>

<div class="container mb-5">
    <div class="row justify-content-center">
        <div class="col-lg-9 col-md-10">

            @if (!string.IsNullOrEmpty(Model.FeatureImageUrl))
            {
                <img src="@Url.Content(Model.FeatureImageUrl)"
                     class="img-fluid mb-4 rounded-4 shadow-lg featured-image"
                     alt="@Model.Title" />
            }

            @if (!string.IsNullOrEmpty(Model.Summary))
            {
                <p class="lead fw-bold text-dark mb-4 p-3 rounded-3" style="border-left: 5px solid #ffc107; background-color: #fffbe9;">
                    @Model.Summary
                </p>
            }

            <div class="article-content">
                @Html.Raw(Model.Content)
            </div>

            <hr class="my-5" />

            <div class="alert alert-info text-center shadow-sm p-4" style="background-color: #e6f3ff;">
                <h4 class="mb-3 text-primary">Cần tư vấn chuyên sâu?</h4>
                <p class="mb-3 small">
                    Bài viết chỉ mang tính chất tham khảo, không thay thế cho lời khuyên hoặc chẩn đoán của bác sĩ.
                    Vui lòng đặt lịch hẹn để được tư vấn trực tiếp và chính xác nhất.
                </p>
                <a asp-action="Book" asp-controller="Appointment" class="btn btn-success btn-lg">
                    <i class="fas fa-calendar-check me-2"></i> Đặt Lịch Khám Ngay
                </a>
            </div>

        </div>
    </div>
</div>
